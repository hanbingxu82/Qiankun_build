(function(t){function e(e){for(var o,i,s=e[0],l=e[1],c=e[2],f=0,p=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("f0a0")},1377:function(t,e,n){"use strict";n("cfac")},1690:function(t,e,n){},3529:function(t,e,n){"use strict";n("c509")},"56d7":function(t,e,n){"use strict";n.r(e);n("c9ba"),n("e6f5"),n("5bda"),n("85ea");var o=n("a593"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("floatBtn",{ref:"floatBtn",attrs:{form:t.form}},[n("menuPart",{on:{closeMenuAndFloating:t.closeMenuAndFloating}})],1),n("div",{attrs:{id:"vue"}}),n("div",{attrs:{id:"vueTinkerbell"}}),n("div",{attrs:{id:"react"}}),n("div",{attrs:{id:"reactBlog"}})],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popover-content"},[n("router-link",{attrs:{to:"/main/react"}},[n("div",{staticClass:"popover-content__item el-button"},[n("i",{staticClass:"el-icon-odometer icon"}),t._v("React")])]),n("router-link",{attrs:{to:"/main/reactBlog"}},[n("div",{staticClass:"popover-content__item el-button"},[n("i",{staticClass:"el-icon-user icon"}),t._v("ReactBlog")])]),n("router-link",{attrs:{to:"/main/vue"}},[n("div",{staticClass:"popover-content__item el-button"},[n("i",{staticClass:"el-icon-user icon"}),t._v("Vue")])]),n("router-link",{attrs:{to:"/main/vueTinkerbell"}},[n("div",{staticClass:"popover-content__item el-button"},[n("i",{staticClass:"el-icon-odometer icon"}),t._v("VueTinkerbell")])])],1)},s=[],l={name:"menu-part",props:{},data:function(){return{}},methods:{}},c=l,u=(n("a028"),n("5d22")),f=Object(u["a"])(c,i,s,!1,null,"65907d2d",null),p=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"page",class:{"floating-window":!0,zIndexTop:t.moveFlags},on:{mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t.moveEnd(e)}}},[n("div",{ref:"floatBtn",staticClass:"popover-content__trigger floatBtn",style:{transition:t.moveFlags?"unset":"all 300ms ease",transform:"translate3d("+t.transform.left+"px,"+t.transform.top+"px,0)"},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.moveStart(e)},mouseover:function(e){return e.stopPropagation(),e.preventDefault(),t.showButton(e)},click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleMenu(e)}}},[n("span",{staticClass:"hover-area",style:{left:t.transform.left<50?"-50px":0,width:t.moveFlags?"50px":"100px"},on:{mouseleave:function(e){return e.stopPropagation(),e.preventDefault(),t.hideButton(e)}}}),n("transition",{attrs:{name:"floating-popover-fade-in-out"}},[t.popoverShow?n("div",{ref:"popoverContent",staticClass:"floating-popover",style:t.menuPosition},[t._t("default",[n("div",{staticClass:"popover-content"},[n("div",{staticClass:"popover-content__item el-button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.handleClickMenuAction(),t.closeMenuAndFloating()}}},[n("i",{staticClass:"el-icon-user icon"})])])])],2):t._e()]),n("i",{staticClass:"el-icon-user icon",style:{fontSize:t.form.fontSize+"px"}})],1)])},d=[],v=n("60b5"),h=(n("6a61"),n("6390"),{name:"floating-window",props:{form:Object},data:function(){return{moveFlags:!1,clickFlag:!1,hoverFlag:!1,movePosition:{x:0,y:0},nx:"",ny:"",dx:"",dy:"",xPum:"",yPum:"",popoverShow:!1,transform:{top:document.body.offsetHeight-300,left:document.body.offsetWidth-25},lastMoveIndex:0,curMoveIndex:0,menuPosition:{top:0,left:0}}},created:function(){var t=this;document.addEventListener("mouseup",(function(e){(e.clientY>window.innerHeight||e.clientY<60||e.clientX<0||e.clientX>window.innerWidth)&&t.moveEnd()}))},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.$set(t.transform,"top",document.body.offsetHeight-300),t.$set(t.transform,"left",document.body.offsetWidth-25)}));var e=this.$refs.floatBtn;document.addEventListener("click",(function(n){if(e){var o=n.target;e===o||e.contains(o)||t.closeMenuAndFloating()}}))},methods:{handleClickMenuAction:function(){this.$alert("点击菜单了","标题名称",{confirmButtonText:"确定"})},closeMenuAndFloating:function(){console.log("closeMenuAndFloating"),this.popoverShow=!1,this.hoverFlag=!1,this.moveFlags=!1,this.resetFloatBtnLocation()},toggleMenu:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.lastMoveIndex!=t.curMoveIndex){e.next=7;break}return console.log(t.lastMoveIndex-t.curMoveIndex),console.warn("点击"),t.popoverShow=!t.popoverShow,e.next=6,t.$nextTick();case 6:t.popoverShow&&(document.onmousemove=null,n=t.transform,o=n.top,a=n.left,t.menuPosition.top=o>=60?"-".concat(t.$refs.popoverContent.offsetHeight+10,"px"):"60px",t.menuPosition.left=a>200?"-132px":0,console.log("top:".concat(o,",left:").concat(a)));case 7:t.curMoveIndex=t.lastMoveIndex;case 8:case"end":return e.stop()}}),e)})))()},hideButton:function(){console.log("mouse-leave"),this.popoverShow||(this.hoverFlag=!1,this.moveFlags||this.resetFloatBtnLocation())},showButton:function(){if(console.log("mouse-over"),this.moveFlags)return this.hoverFlag=!1;this.hoverFlag=!0;var t=this.transform,e=t.left,n=t.top;if(!(e>0&&e<-25)){var o=document.body.clientWidth;e<o/2?this.generateTransform({top:n,left:20}):this.generateTransform({top:n,left:o-70})}},moveStart:function(t){var e=this;if(console.log("moveStart"),2!=event.button)if(this.popoverShow)this.moveFlags=!1;else{this.clickFlag=!0;var n=this.$refs.floatBtn;this.movePosition.x=t.clientX,this.movePosition.y=t.clientY;var o=this.transform,a=o.left,r=o.top;this.dx=t.clientX-a,this.dy=t.clientY-r,this.moveFlags=!0,document.onmousemove=function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(o){var a,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clickFlag=!1,e.moveFlags=!0,console.log("onmousemove"),a=document.body.clientWidth,r=document.body.clientHeight,i=r-30,s=a-n.offsetWidth/2+e.dx,e.nx=o.clientX,e.ny=o.clientY,e.xPum=(e.nx>s?s:e.nx)-e.dx,e.yPum=(e.ny>i?i:e.ny)-e.dy,t.next=13,e.$nextTick();case 13:e.lastMoveIndex++,e.generateTransform({left:e.xPum>-25?e.xPum:-25,top:e.yPum>0?e.yPum:0});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,e.moveEnd()}}},generateTransform:function(t){var e=t.top,n=t.left,o=this.$refs.floatBtn;o&&(this.$set(this.transform,"left",n),this.$set(this.transform,"top",e))},resetFloatBtnLocation:function(){console.log("------reset");var t=this.$refs.floatBtn;if(t){var e=document.body.clientWidth,n=this.transform,o=n.left,a=n.top;o<e/2?this.generateTransform({top:a,left:"-25"}):this.generateTransform({top:a,left:e-25})}},moveEnd:function(){console.log("moveEnd"),this.moveFlags=!1,this.hoverFlag||(document.onmousemove=null,this.resetFloatBtnLocation())}}}),g=h,b=(n("1377"),n("3529"),Object(u["a"])(g,m,d,!1,null,"5736fa66",null)),x=b.exports,w=n("c225"),y={name:"App",components:{floatBtn:x,menuPart:p},data:function(){return{form:{themeColor:{hsl:{h:200,s:0,l:0,a:1},hex:"#000000",hex8:"#000000FF",rgba:{r:0,g:0,b:0,a:1},hsv:{h:200,s:0,v:0,a:1},oldHue:200,source:"hex",a:1},fontSize:28}}},mounted:function(){window.qiankunStarted||(window.qiankunStarted=!0,Object(w["c"])())},methods:{closeMenuAndFloating:function(){this.$refs.floatBtn.closeMenuAndFloating()}}},C=y,_=(n("034f"),Object(u["a"])(C,a,r,!1,null,null,null)),k=_.exports,F=n("8aaf"),B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-content"},[o("el-container",[o("el-header",[o("router-link",{attrs:{to:"/home"}},[o("img",{staticClass:"logo",attrs:{src:n("cf05")}})])],1),o("el-container",[o("el-aside",[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#fff",router:!0}},[o("el-menu-item",{attrs:{index:"/home"}},[o("i",{staticClass:"el-icon-menu"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("Home")])]),o("el-menu-item",{attrs:{index:"/about"}},[o("i",{staticClass:"el-icon-menu"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("About")])]),o("el-menu-item",{attrs:{index:"/main/vue"}},[o("i",{staticClass:"el-icon-document"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("qiankun-vue")])]),o("el-menu-item",{attrs:{index:"/main/react"}},[o("i",{staticClass:"el-icon-setting"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("qiankun-react")])]),o("el-menu-item",{attrs:{index:"/main/reactBlog"}},[o("i",{staticClass:"el-icon-setting"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("qiankun-reactBlog")])])],1)],1),o("el-container",[o("el-main",[o("router-view"),o("div",{attrs:{id:"vue"}}),o("div",{attrs:{id:"react"}}),o("div",{attrs:{id:"reactBlog"}})],1)],1)],1)],1)],1)},P=[],S={name:"Main",mounted:function(){window.qiankunStarted||(window.qiankunStarted=!0,Object(w["c"])())}},M=S,O=(n("f38f"),Object(u["a"])(M,B,P,!1,null,"6c63f168",null)),A=O.exports;o["default"].use(F["a"]);var j=[{path:"/",name:"App",component:k,redirect:"/main/reactBlog"},{path:"/main",name:"Main",component:A,children:[]},{path:"/main/*",name:"main",component:k}],T=new F["a"]({mode:"history",routes:j}),$=T,E=n("2763"),H=n.n(E),I=(n("ccc1"),n("bac7")),R=n.n(I),G=n("7736"),q=n("a652"),L={homeCount:function(t){return t.home.homeCount}},W=L,D={state:{homeCount:1},mutations:{CHANG_HOMECOUNT:function(t,e){t.homeCount=e}},actions:{changeHomeCount:function(t,e){var n=t.commit;n("CHANG_HOMECOUNT",e)}}},z=D;o["default"].use(G["a"]);var N=new G["a"].Store({modules:{home:z},getters:W}),X=N;o["default"].use(H.a),o["default"].use(R.a),o["default"].use(G["a"]);var Y={sex:"男",age:18,userName:"小东"},J=Object(q["b"])(Y);J.onGlobalStateChange((function(t,e){for(var n in console.log("改变前的值 ",e),console.log("改变后的值 ",t),t)Y[n]=t[n]})),J.getGlobalState=function(t){return t?Y[t]:Y},o["default"].prototype.$actions=J;var U=[{name:"vueApp",entry:"/childapps/vueApp/",container:"#vue",activeRule:"/main/vue",props:{getGlobalState:Y}},{name:"reactApp",entry:"/childapps/reactApp/",container:"#react",activeRule:"/main/react",props:{getGlobalState:Y}},{name:"reactAppBlog",entry:"/childapps/reactAppBlog/",container:"#reactBlog",activeRule:"/main/reactBlog",props:{getGlobalState:Y}},{name:"vueAppTinkerbell",entry:"/childapps/vueAppTinkerbell/",container:"#vueTinkerbell",activeRule:"/main/vueTinkerbell",props:{getGlobalState:Y}}];Object(w["b"])(U),Object(w["c"])({prefetch:!1}),new o["default"]({router:$,store:X,render:function(t){return t(k)}}).$mount("#app")},"72a6":function(t,e,n){},a028:function(t,e,n){"use strict";n("1690")},c509:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},cfac:function(t,e,n){},f0a0:function(t,e,n){},f38f:function(t,e,n){"use strict";n("72a6")}});
//# sourceMappingURL=app.3021dd79.js.map